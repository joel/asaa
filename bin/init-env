#!/usr/bin/env bash

export CURRENT=`pwd`
export BASENAME=`basename "$CURRENT"`

export SERVICE_NAME=asaa

export DIR_NAME=#{BASENAME}

export VERSION=0.1.0

# Forwarded ports
export REDIS_PUBLISHED_PORT=6666 # Need to be change as well in .env.local
export PROD_SERVER_PUBLISHED_PORT=3010
export DEV_SERVER_PUBLISHED_PORT=3005
export TEST_SERVER_PUBLISHED_PORT=3000
export REDIS_COMMANDER_PUBLISHED_PORT=8081
export CAPYBARA_SERVER_PUBLISHED_PORT=4343

# Database
export DB_PUBLISHED_PORT=3333 # Need to be change as well in .env.local
export DB_USER=root
export DB_PASSWORD=db_password
export DB_POOL=5
export DB_PORT=3306
export DB_HOST=db

# Docker Build Args
export ARG_APP_PATH=/src
export ARG_RUBY_VERSION=2.7.3
export ARG_BUNDLER_VERSION=2.2.20
export ARG_RUBYGEMS_VERSION=3.2.20

# App Runtime Envs
export RAILS_LOG_TO_STDOUT=true
export LOG_LEVEL=debug
export LOG_APPENDER=true

export HUB_URL=http://chrome:4444/wd/hub

# Convey which port Capybara should be starting test servers on; fail loudly
# if we've neglected to configure it.
export CAPYBARA_SERVER_PORT=3434
# The test server WILL NOT BE AVAILABLE from outside the container if it binds
# to 127.0.0.1. It must bind to 0.0.0.0 to be exposed to the outside world.
export CAPYBARA_SERVER_HOST=0.0.0.0